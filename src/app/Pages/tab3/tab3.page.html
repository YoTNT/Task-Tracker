<!-- <ion-content [fullscreen]="true">
  <ion-toolbar>
    <ion-icon name="list-circle-outline" size="large" slot="start"></ion-icon>
    <ion-title slot="start" mode="md" position="fixed">My Task List</ion-title>
  </ion-toolbar>

  <ion-grid>
    <ion-row>
      <ion-col size="12" size-sm="8" offset-sm="2" ion-text-center>
        <div *ngIf="isLoading" class="ion-text-center">
          <ion-spinner color="primary"></ion-spinner>
        </div>
        <div
          class="ion-text-center"
          *ngIf="!isLoading && loadedTasks.length <= 0"
        >
          <p>You don't have any tasks.</p>
        </div>
        <ion-list *ngIf="!isLoading">
          <ion-item-sliding *ngFor="let tk of loadedTasks" #slidingItem>
            <ion-item
              [routerLink]="['/', 'tasktracker', 'submit-my-progress', tk.id ]"
            >
              <ion-label>
                <h1>{{ tk.taskName }}</h1>
                <h2>{{ tk.progress | percent}}</h2>
              </ion-label>
            </ion-item>
            <ion-item-options>
              <ion-item-option
                color="secondary"
                (click)="onEdit(tk.id, slidingItem)"
              >
                <ion-icon name="create" slot="icon-only"></ion-icon>
              </ion-item-option>
              <ion-item-option color="danger">
                <ion-icon
                  name="trash"
                  slot="icon-only"
                  (click)="onDelete(tk, slidingItem)"
                ></ion-icon>
              </ion-item-option>
            </ion-item-options>
          </ion-item-sliding>
     
        </ion-list>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content> -->
<ion-header class="ion-no-margin">
  <ion-toolbar>
    <ion-icon
      name="list-circle-outline"
      color="primary"
      size="large"
      slot="start"
    ></ion-icon>
    <ion-label slot="start" color="primary"> My Task List </ion-label>

    <ion-buttons slot="end">
      <ion-button>
        <ion-icon slot="icon-only" name="add-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-grid no-padding ion-no-margin>
    <ion-row>
      <ion-col
        *ngIf="isLoading"
        size="12"
        size-lg="6"
        offset-med="3"
        offset-lg="3"
      >
        <div class="ion-text-center">
          <ion-spinner color="primary"></ion-spinner>
        </div>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="!isLoading && loadedTasks.length <= 0">
      <ion-col size="12" size-lg="6" offset-med="3" offset-lg="3">
        <ion-chip class="ion-text-center" outline color="danger">
          <ion-label>
            <b>You don't have any assigend tasks </b>
          </ion-label>
        </ion-chip>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="!isLoading && loadedTasks.length >0">
      <ion-col size="12" size-lg="6" offset-med="3" offset-lg="3">
        <ion-row>
          <ion-col size="auto">
            <ion-chip outline color="primary">
              <ion-label> Tasks <b>({{loadedTasks.length}}) </b></ion-label>
            </ion-chip>
          </ion-col>
          <ion-col size="auto">
            <ion-chip outline color="warning">
              <ion-label> In-Progress <b>({{1}}) </b> </ion-label>
            </ion-chip>
          </ion-col>
          <ion-col size="auto">
            <ion-chip outline color="success">
              <ion-label> Done <b>({{1}}) </b> </ion-label>
            </ion-chip>
          </ion-col>
        </ion-row>
        <ion-list>
          <ion-row
            *ngFor="let tk of loadedTasks let i = index"
            style="justify-items: left;"
          >
            <ion-col>
              <ion-item-sliding #slidingItem>
                <ion-item
                  [routerLink]="['/', 'tasktracker', 'submit-my-progress', tk.id ]"
                >
                  <ion-label
                    class="ion-text-start ion-text-capitalize ion-text-wrap"
                  >
                    <h3><b> {{i+1}}- </b>{{ tk.taskName}}</h3>

                    <ion-note size="samll" slot="start" class="default">
                      {{tk.taskdate}}
                    </ion-note>
                    <ion-badge
                      slot="end"
                      style="float: right;"
                      [color]="
                    tk.progress  > 0.99
                          ? 'success'
                          : tk.progress  < 0.50
                          ? 'warning'
                          : 'primary'
                      "
                    >
                      {{ tk.progress | percent}}
                    </ion-badge>
                
                  </ion-label>
                </ion-item>

                <ion-item-options>
                  <ion-item-option
                    color="secondary"
                    (click)="onEdit(tk.id, slidingItem)"
                  >
                    <ion-icon name="create" slot="icon-only"></ion-icon>
                  </ion-item-option>
                  <ion-item-option color="danger">
                    <ion-icon
                      name="trash"
                      slot="icon-only"
                      (click)="onDelete(tk, slidingItem)"
                    ></ion-icon>
                  </ion-item-option>
                </ion-item-options>
              </ion-item-sliding>
            </ion-col>
          </ion-row>
        </ion-list>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
